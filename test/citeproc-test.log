
Pending → test-suite affix_WithCommas
test/citeproc-test.lua:39: citations

Pending → test-suite bugreports_AutomaticallyDeleteItemsFails
test/citeproc-test.lua:132: citations

Pending → test-suite bugreports_CreepingAddNames
test/citeproc-test.lua:39: citations

Pending → test-suite bugreports_DelimiterOnLayout
test/citeproc-test.lua:39: citations

Pending → test-suite bugreports_EnvAndUrb
test/citeproc-test.lua:39: citations

Pending → test-suite bugreports_EtAlSubsequent
test/citeproc-test.lua:39: citations

Pending → test-suite bugreports_OldMhraDisambiguationFailure
test/citeproc-test.lua:39: citations

Pending → test-suite bugreports_OverwriteCitationItems
test/citeproc-test.lua:39: citations

Pending → test-suite bugreports_ikeyOne
test/citeproc-test.lua:39: citations

Pending → test-suite collapse_CitationNumberRangesInsert
test/citeproc-test.lua:39: citations

Pending → test-suite disambiguate_BasedOnSubsequentFormWithBackref2
test/citeproc-test.lua:39: citations

Pending → test-suite disambiguate_DisambiguationHang
test/citeproc-test.lua:39: citations

Pending → test-suite disambiguate_YearSuffixFiftyTwoEntries
test/citeproc-test.lua:39: citations

Pending → test-suite disambiguate_YearSuffixFiftyTwoEntriesByCite
test/citeproc-test.lua:39: citations

Pending → test-suite group_LegalWithAuthorDate
test/citeproc-test.lua:39: citations

Pending → test-suite integration_DeleteName
test/citeproc-test.lua:39: citations

Pending → test-suite integration_DisambiguateAddGivenname1
test/citeproc-test.lua:39: citations

Pending → test-suite integration_DisambiguateAddGivenname2
test/citeproc-test.lua:39: citations

Pending → test-suite integration_DuplicateItem
test/citeproc-test.lua:39: citations

Pending → test-suite integration_DuplicateItem2
test/citeproc-test.lua:39: citations

Pending → test-suite integration_FirstReferenceNoteNumberPositionChange
test/citeproc-test.lua:39: citations

Pending → test-suite integration_IbidOnInsert
test/citeproc-test.lua:39: citations

Pending → test-suite integration_IbidWithDifferentLocators
test/citeproc-test.lua:39: citations

Pending → test-suite integration_SimpleFirstReferenceNoteNumber
test/citeproc-test.lua:39: citations

Pending → test-suite integration_SimpleIbid
test/citeproc-test.lua:39: citations

Pending → test-suite integration_SubsequentWhenInterveningFootnote
test/citeproc-test.lua:39: citations

Pending → test-suite integration_YearSuffixOnOffOn
test/citeproc-test.lua:39: citations

Pending → test-suite magic_TermCapitalizationWithPrefix
test/citeproc-test.lua:39: citations

Pending → test-suite name_BibliographyNameFormNeverShrinks
test/citeproc-test.lua:132: citations

Pending → test-suite position_FirstTrueOnlyOnce
test/citeproc-test.lua:39: citations

Pending → test-suite position_IbidInText
test/citeproc-test.lua:39: citations

Pending → test-suite position_IbidSeparateCiteSameNote
test/citeproc-test.lua:39: citations

Pending → test-suite position_IbidWithMultipleSoloCitesInBackref
test/citeproc-test.lua:39: citations

Pending → test-suite position_IbidWithPrefixFullStop
test/citeproc-test.lua:39: citations

Pending → test-suite position_NearNoteSameNote
test/citeproc-test.lua:39: citations

Pending → test-suite position_ResetNoteNumbers
test/citeproc-test.lua:39: citations

Pending → test-suite punctuation_SuppressPrefixPeriodForDelimiterSemicolon
test/citeproc-test.lua:39: citations

Pending → test-suite sort_AuthorDateWithYearSuffix
test/citeproc-test.lua:39: citations

Pending → test-suite sort_CitationNumberPrimaryAscendingViaMacroCitation
test/citeproc-test.lua:39: citations

Pending → test-suite sort_CitationNumberPrimaryAscendingViaVariableCitation
test/citeproc-test.lua:39: citations

Pending → test-suite sort_CitationNumberPrimaryDescendingViaMacroCitation
test/citeproc-test.lua:39: citations

Pending → test-suite sort_CitationNumberPrimaryDescendingViaVariableCitation
test/citeproc-test.lua:39: citations

Pending → test-suite sort_CitationNumberSecondaryAscendingViaVariableCitation
test/citeproc-test.lua:39: citations

Pending → test-suite sort_GroupedByAuthorstring
test/citeproc-test.lua:39: citations

Pending → test-suite sort_RangeUnaffected
test/citeproc-test.lua:39: citations

Pending → test-suite testers_FirstAutoGeneratedZoteroPluginTest
test/citeproc-test.lua:39: citations

Failure → test-suite affix_CommaAfterQuote
Passed in:
(string) '“quote,” Hello Thing'
Expected:
(string) '“quote”, Hello Thing'

Failure → test-suite bugreports_ApostropheOnParticle
Passed in:
(string) 'John d’ Jones'
Expected:
(string) 'John d’Jones'

Failure → test-suite bugreports_BadCitationUpdate
Passed in:
(string) 'C. Grignon, C. Sentenac 2000
C. Grignon, C. Sentenac 2000'
Expected:
(string) 'C. Grignon, C. Sentenac 2000a
C. Grignon, C. Sentenac 2000b'

Failure → test-suite bugreports_BadDelimiterBeforeCollapse
Passed in:
(string) '(Jones 2000; Smith 2000; Smith 2000)'
Expected:
(string) '(Jones 2000; Smith 2000a,b)'

Failure → test-suite bugreports_ByBy
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">[CSL STYLE ERROR: reference with no printed form.].</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Review of <i>My Title</i>, by Beaver Burtle. n.d.</div>
</div>'

Failure → test-suite bugreports_CapsAfterOneWordPrefix
Passed in:
(string) 'Nocapsafter. ibid.
Caps after. ibid.'
Expected:
(string) 'Nocapsafter. ibid.
Caps after. Ibid.'

Failure → test-suite bugreports_ChicagoAuthorDateLooping
Passed in:
(string) '(Manstein 1982)'
Expected:
(string) '(Anon.; Anon.; Manstein 1982)'

Failure → test-suite bugreports_CitationSortsWithEtAl
Passed in:
(string) '[<i>Aalto et al.</i>, 1999; <i>Aalto et al.</i>, 2000; <i>Aalto et al.</i>, 2001]'
Expected:
(string) '[<i>Aalto et al.</i>, 1999, 2000, 2001]'

Failure → test-suite bugreports_CollapseFailure
Passed in:
(string) '(Doe et al. 1965; Doe et al. 1965; Doe et al. 1970)'
Expected:
(string) '(Doe et al. 1965a, 1965b, 1970)'

Failure → test-suite bugreports_ContainerTitleShort
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Anonymous Journal/Anonymous Journal</div>
  <div class="csl-entry">Journal-1/Journal-1/Anonymous Journal One</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Anon J/Anon J/Anonymous Journal</div>
  <div class="csl-entry">Journal-1/Journal-1/Anonymous Journal One</div>
</div>'

Failure → test-suite bugreports_DemoPageFullCiteCruftOnSubsequent
Passed in:
(string) 'Malone and U.S. Bureau of the Census[start short name X WTF?][end short name X WTF?], <i>Evaluating Components of International Migration: Consistency of 2000 Nativity Data</i>.'
Expected:
(string) 'Malone and U.S. Bureau of the Census, <i>Evaluating Components of International Migration: Consistency of 2000 Nativity Data</i>.'

Failure → test-suite bugreports_DisambiguationAddNames
Passed in:
(string) '(Roe et al., 1995; Roe et al., 1995)'
Expected:
(string) '(Roe et al., 1995a, 1995b)'

Failure → test-suite bugreports_DisambiguationAddNamesBibliography
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Roe, J., Doe, J. and Smith, J.:, 1995.</div>
  <div class="csl-entry">Roe, J., Noakes, R. and Brown, B.:, 1995.</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Roe, J., Doe, J. and Smith, J.:, 1995a.</div>
  <div class="csl-entry">Roe, J., Noakes, R. and Brown, B.:, 1995b.</div>
</div>'

Failure → test-suite bugreports_DoubleEncodedAngleBraces
Passed in:
(string) 'Center for History and New Media, « Zotero Quick Start Guide », [En ligne]. &#60;http://zotero.org/support/quick_start_guide&#62;. (Consulté le.'
Expected:
(string) '<span style="font-variant:small-caps;">Center for History and New Media</span>, « Zotero Quick Start Guide », s.d., [En ligne]. &#60;http://zotero.org/support/quick_start_guide&#62;. .'

Failure → test-suite bugreports_DuplicateTerminalPunctuationInBibliography
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">D’Arcus, Bruce. 2006. <i>Boundaries of Dissent: Protest and State Power in the Media Age</i>. New York: Routledge http://www.test01.com (Accessed )..</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">D’Arcus, Bruce. 2006. <i>Boundaries of Dissent: Protest and State Power in the Media Age</i>. New York: Routledge http://www.test01.com.</div>
</div>'

Failure → test-suite bugreports_FourAndFour
Passed in:
(string) 'Anne Tyler et al., <i>Ladder of his’ Years</i>, vol. 2003 (New York: Ivy Books, 1997).
Anne Tyler et al., <i>Ladder of his’ Years</i>, vol. 2003 (New York: Ivy Books, 1997).'
Expected:
(string) 'Anne Tyler, George Smith, John Brown, and Cat Garfield, <i>Ladder of his’ Years</i>, vol. 2003 (New York: Ivy Books, 1997).
Anne Tyler, George Smith, John Brown, and Cat Felix, <i>Ladder of his’ Years</i>, vol. 2003 (New York: Ivy Books, 1997).'

Failure → test-suite bugreports_FrenchApostrophe
Passed in:
(string) '« Life’s ’Little’ Surprises »'
Expected:
(string) '« Life’s “Little” Surprises »'

Failure → test-suite bugreports_GreekStyleProblems
Passed in:
(string) 'Τέλλος Άγρας, «Ο Καρυωτάκης και οι Σάτιρες», στο: Κώστας Καρυωτάκης, <i>Ποιήματα και πεζά</i>, μτφ. Andreas Dimitriadis, επιμ. Γ. Π. Σαββίδης, 1998, σ .'
Expected:
(string) 'Τέλλος Άγρας, «Ο Καρυωτάκης και οι Σάτιρες», στο: Κώστας Καρυωτάκης, <i>Ποιήματα και πεζά</i>, μτφ. Andreas Dimitriadis, επιμ. Γ. Π. Σαββίδης, 1998.'

Failure → test-suite bugreports_GreekStyleTwoEditors
Passed in:
(string) 'Τέλλος Άγρας, «Ο Καρυωτάκης και οι Σάτιρες», στο: Γ. Π. Σαββίδης και Κώστας Καρυωτάκης (επιμ.), <i>Ποιήματα και πεζά</i>, μτφ. Andreas Dimitriadis, 1998, σ .'
Expected:
(string) 'Τέλλος Άγρας, «Ο Καρυωτάκης και οι Σάτιρες», στο: Γ. Π. Σαββίδης και Κώστας Καρυωτάκης (επιμ.), <i>Ποιήματα και πεζά</i>, μτφ. Andreas Dimitriadis, 1998.'

Failure → test-suite bugreports_LegislationCrash
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry"><i>Arrêté du 23 mars 1992 relatif au programme des études conduisant au diplôme d’État d’infirmier</i>, </div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry"><i>Arrêté du 23 mars 1992 relatif au programme des études conduisant au diplôme d’État d’infirmier</i>, 1992. </div>
</div>'

Failure → test-suite bugreports_MatchedAuthorAndDate
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Brown, J. 2006, August. <b><i>Tijdschrift voor praktijkondersteuning</i></b>. http://dx.doi.org/10.1007/bf03074904.</div>
  <div class="csl-entry">Brown, J. 2006, August. <b><i>Huisarts en Wetenschap</i></b>. http://dx.doi.org/10.1007/bf03084836.</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Brown, J. 2006a, August. <b><i>Tijdschrift voor praktijkondersteuning</i></b>. http://dx.doi.org/10.1007/bf03074904.</div>
  <div class="csl-entry">Brown, J. 2006b, August. <b><i>Huisarts en Wetenschap</i></b>. http://dx.doi.org/10.1007/bf03084836.</div>
</div>'

Failure → test-suite bugreports_MovePunctuationInsideQuotesForLocator
Passed in:
(string) 'Jennifer J. Davis, “Men of Taste: Gender and Authority in the French Culinary Trades, 1730-1830” (Ph.D. diss., Pennsylvania State University, History, 2004), p. gargoyle".'
Expected:
(string) 'Jennifer J. Davis, “Men of Taste: Gender and Authority in the French Culinary Trades, 1730-1830” (Ph.D. diss., Pennsylvania State University, History, 2004), s.v. “gargoyle.”'

Failure → test-suite bugreports_NoCaseEscape
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">

    <div class="csl-block">Aalto, Alan</div>

    <div class="csl-left-margin"> N.d.</div><div class="csl-right-inline">“‘PIAAC-Longitudinal (PIAAC-L) 2015’”</div>
  .</div>
  <div class="csl-entry">

    <div class="csl-block">Aalto, Alan</div>

    <div class="csl-left-margin"> N.d.</div><div class="csl-right-inline">“PIAAC-Longitudinal (PIAAC-Lx) 2015”</div>
  .</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">

    <div class="csl-block">Aalto, Alan</div>

    <div class="csl-left-margin"> N.d.</div><div class="csl-right-inline">“‘PIAAC-Longitudinal (PIAAC-L) 2015.’”</div>
  </div>
  <div class="csl-entry"> 
    <div class="csl-left-margin">N.d.</div><div class="csl-right-inline">“PIAAC-Longitudinal (PIAAC-Lx) 2015.”</div>
  </div>
</div>'

Failure → test-suite bugreports_NumberInMacroWithVerticalAlign
Passed in:
(string) '<sup>2</sup>; <sup>3-5</sup>'
Expected:
(string) '<sup><i>2</i></sup>; <sup><i>3–5</i></sup>'

Failure → test-suite bugreports_ProcessorHang1
Passed in:
(string) '(Philpott et al. 2008)
(Philpott et al. 2008)
(Philpott et al. 2008)'
Expected:
(string) '(Philpott, Arendt, et al. 2008)
(Philpott, Perfecto, et al. 2008<i>a</i>)
(Philpott, Perfecto, et al. 2008<i>b</i>)'

Failure → test-suite bugreports_SelfLink
Passed in:
(string) '[CSL STYLE ERROR: reference with no printed form.]'
Expected:
(string) '[O A. <i>Book Title</i>]'

Failure → test-suite bugreports_SingleQuoteXml
Passed in:
(string) '[CSL STYLE ERROR: reference with no printed form.]'
Expected:
(string) '[Cite with a composer ; O A. "hello" <i>Book Title</i>]'

Failure → test-suite bugreports_SmallCapsEscape
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">

    <div class="csl-block">Aalto, Alan</div>

    <div class="csl-left-margin"> N.d.</div><div class="csl-right-inline">Here</div>
  .</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">

    <div class="csl-block">Aalto, Alan</div>

    <div class="csl-left-margin"> N.d.</div><div class="csl-right-inline"><span style="font-variant:small-caps;">Here</span>.</div>
  </div>
</div>'

Failure → test-suite bugreports_SortSecondaryKey
Passed in:
(string) '(Roe, 1995; Roe, 1996)'
Expected:
(string) '(Roe, 1995, 1996)'

Failure → test-suite bugreports_StyleError001
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry"><i>Anonymous Journal</i>, p. .</div>
  <div class="csl-entry"><i>Anonymous Journal One</i>.</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry"><i>Anonymous Journal</i>.</div>
  <div class="csl-entry"><i>Anonymous Journal One</i>.</div>
</div>'

Failure → test-suite bugreports_ThesisUniversityAppearsTwice
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Davis, Jennifer J. “Men of Taste: Gender and Authority in the French Culinary Trades, 1730-1830.” Ph.D. Diss., Pennsylvania State University, History, 2004.</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Davis, Jennifer J. “Men of Taste: Gender and Authority in the French Culinary Trades, 1730-1830.” Ph.D. diss., Pennsylvania State University, History, 2004.</div>
</div>'

Failure → test-suite bugreports_UndefinedInName3
Passed in:
(string) 'B-X Kim and A-Y Kim, p. [accessed].
Kim and Kim, p. 23.'
Expected:
(string) 'B-X Kim and A-Y Kim.
Kim and Kim, 23.'

Failure → test-suite bugreports_UndefinedNotString
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">
    <div class="csl-left-margin">[1]</div><div class="csl-right-inline"><i>Foo Bar</i>.</div>
  </div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">
    <div class="csl-left-margin">[1]</div><div class="csl-right-inline"><i>FOO BAR</i> <b>n.d.</b></div>
  </div>
</div>'

Failure → test-suite bugreports_UndefinedStr
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">
    <div class="csl-left-margin">[1]</div><div class="csl-right-inline"> FamilyName G. .</div>
  </div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">
    <div class="csl-left-margin">[1]</div><div class="csl-right-inline"> FamilyName G. n.d.</div>
  </div>
</div>'

Failure → test-suite bugreports_YearSuffixInHarvard1
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Africa News, 2006. Burkina Faso: Journalist Case Puts Spotlight On Justice System. <i>Africa News</i>.</div>
  <div class="csl-entry">Africa News, 2010. Niger: Who Really Ousted Tandja, And Why? <i>Africa News</i>.</div>
  <div class="csl-entry">Africa News, 2007. Uganda: Police Protect Besigye Rally. <i>Africa News</i>.</div>
  <div class="csl-entry">Africa News, 2006. Uganda: UK, US Deploy Observers. <i>Africa News</i>.</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Africa News, 2006a. Burkina Faso: Journalist Case Puts Spotlight On Justice System. <i>Africa News</i>.</div>
  <div class="csl-entry">Africa News, 2010. Niger: Who Really Ousted Tandja, And Why? <i>Africa News</i>.</div>
  <div class="csl-entry">Africa News, 2007. Uganda: Police Protect Besigye Rally. <i>Africa News</i>.</div>
  <div class="csl-entry">Africa News, 2006b. Uganda: UK, US Deploy Observers. <i>Africa News</i>.</div>
</div>'

Failure → test-suite bugreports_YearSuffixLingers
Passed in:
(string) 'Smith 1990
Smith 1990
Jones 1990'
Expected:
(string) 'Smith 1990a
Smith 1990b
Jones 1990'

Failure → test-suite bugreports_parseName
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">van Happel, Eduard 2008</div>
  <div class="csl-entry">von Hoppel, Gustav 2008</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">van Happel, Eduard 2008</div>
  <div class="csl-entry">Hoppel, Gustav von 2008</div>
</div>'

Failure → test-suite collapse_AuthorCollapse
Passed in:
(string) '(Smith 1900, Smith 2000)'
Expected:
(string) '(Smith 1900, 2000)'

Failure → test-suite collapse_AuthorCollapseNoDate
Passed in:
(string) '(Smith, Smith 1900, Smith 2000)'
Expected:
(string) '(Smith, 1900, 2000)'

Failure → test-suite collapse_AuthorCollapseNoDateSorted
Passed in:
(string) '(Smith 325AD, Smith 2000, Smith)'
Expected:
(string) '(Smith 325AD, 2000)'

Failure → test-suite collapse_ChicagoAfterCollapse
Passed in:
(string) '(Whittaker 1967, Whittaker 1975, Wiens 1989, Wiens 1989)
(Wong 1999, p. 328, Wong 2000, p. 475, Garcia 1998, p. 67)
(Whittaker 1967, Wiens 1989)'
Expected:
(string) '(Whittaker 1967, 1975; Wiens 1989a, 1989b)
(Wong 1999, 328; 2000, 475; Garcia 1998, 67)
(Whittaker 1967; Wiens 1989b)'

Failure → test-suite collapse_CitationNumberRangesMixed
Passed in:
(string) '([1], [2], [3], [4], [5], [6], [7])
([1], [2], [3], [5], [6], [7])'
Expected:
(string) '([1]–[7])
([1]–[3], [5]–[7])'

Failure → test-suite collapse_CitationNumberRangesMixed2
Passed in:
(string) '([1], [2], [3], [4], [5], [6], [7], [8], [9], [10], [11])
([1], [3], [4], [5], [7], [9], [10], [11])'
Expected:
(string) '([1]–[11])
([1], [3]–[5], [7], [9]–[11])'

Failure → test-suite collapse_CitationNumberRangesMixed3
Passed in:
(string) '([1], [2], [3], [4], [5], [6], [7], [8])
([1], [4], [6], [7], [8])'
Expected:
(string) '([1]–[8])
([1], [4], [6]–[8])'

Failure → test-suite collapse_CitationNumberRangesWithAffixes
Passed in:
(string) '<b>([1],[2],[3])</b>'
Expected:
(string) '<b>([1]–[3])</b>'

Failure → test-suite collapse_CitationNumberRangesWithAffixesGrouped
Passed in:
(string) '<b>([1],[2],[3])</b>'
Expected:
(string) '<b>([1]–[3])</b>'

Failure → test-suite collapse_NumericDuplicate
Passed in:
(string) '(1,2,2,3,4)'
Expected:
(string) '(1,2,2–4)'

Failure → test-suite collapse_NumericDuplicate2
Passed in:
(string) '(1,2,3,3,4,5)'
Expected:
(string) '(1–3,3–5)'

Failure → test-suite collapse_TrailingDelimiter
Passed in:
(string) '(Condit et al. 2000, Condit et al. 1995, Condit et al. 1998, Connell 1971, Cortes &#38; Hunziker 1971)'
Expected:
(string) '(Condit et al. 2000, 1995, 1998; Connell 1971, Cortes &#38; Hunziker 1971)'

Failure → test-suite collapse_YearSuffixCollapse
Passed in:
(string) 'Smith 2000, Smith 2000, Smith 2000, Smith 2000, Smith 2000, Smith 2001
Smith 2000, Smith 2000, Smith 2000, Smith 2000, Smith 2001'
Expected:
(string) 'Smith 2000a–e, 2001
Smith 2000a,c–e, 2001'

Failure → test-suite collapse_YearSuffixCollapseNoRange
Passed in:
(string) 'Smith 2000, Smith 2000, Smith 2000, Smith 2000, Smith 2000, Smith 2001
Smith 2000, Smith 2000, Smith 2000, Smith 2000, Smith 2001'
Expected:
(string) 'Smith 2000a,b,c,d,e, 2001
Smith 2000a,c,d,e, 2001'

Failure → test-suite collapse_YearSuffixCollapseNoYearSuffixDelimiter
Passed in:
(string) 'Smith 2000;Smith 2000;Smith 2000;Smith 2000;Smith 2000;Smith 2001
Smith 2000;Smith 2000;Smith 2000;Smith 2000;Smith 2001'
Expected:
(string) 'Smith 2000a–e;2001
Smith 2000a;c–e;2001'

Failure → test-suite collapse_YearSuffixImplicitCollapseNoYearSuffixDelimiter
Passed in:
(string) 'Smith 2000;Smith 2000;Smith 2000;Smith 2000;Smith 2000;Smith 2001
Smith 2000;Smith 2000;Smith 2000;Smith 2000;Smith 2001'
Expected:
(string) 'Smith 2000a–e;2001
Smith 2000a;c–e;2001'

Failure → test-suite date_LopsidedDataYearSuffixCollapse
Passed in:
(string) '(Smith 1982, Smith 1982)'
Expected:
(string) '(Smith 1982a,b)'

Failure → test-suite date_RangeDelimiter
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Year, Month, Day, with repeated month and year: 2_[YRD]_4 January 1999</div>
  <div class="csl-entry">Year, Month, Day, with differing month: 2 January_[YRD]_4 March 1999</div>
  <div class="csl-entry">Year, Month, Day, with differing year: 2 January 1999_[YRD]_4 January 2000</div>
  <div class="csl-entry">Year, Month, with repeated year: January_[YRD]_March 1999</div>
  <div class="csl-entry">Year, Month, with differing year: January 1999_[YRD]_March 2000</div>
  <div class="csl-entry">Year, with differing year: 1999_[YRD]_2000</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Year, Month, Day, with repeated month and year: 2_[DRD]_4 January 1999</div>
  <div class="csl-entry">Year, Month, Day, with differing month: 2 January_[MRD]_4 March 1999</div>
  <div class="csl-entry">Year, Month, Day, with differing year: 2 January 1999_[YRD]_4 January 2000</div>
  <div class="csl-entry">Year, Month, with repeated year: January_[MRD]_March 1999</div>
  <div class="csl-entry">Year, Month, with differing year: January 1999_[YRD]_March 2000</div>
  <div class="csl-entry">Year, with differing year: 1999_[YRD]_2000</div>
</div>'

Failure → test-suite date_YearSuffixDelimiter
Passed in:
(string) 'Doe 2000;Doe 2000;Doe 2001'
Expected:
(string) 'Doe 2000a,b;2001'

Failure → test-suite date_YearSuffixImplicitWithNoDate
Passed in:
(string) '(John Doe [Accessed: June 1, 1965]; John Doe [Accessed: June 1, 2065])'
Expected:
(string) '(John Doe n.d.-a [Accessed: June 1, 1965]; John Doe n.d.-b [Accessed: June 1, 2065])'

Failure → test-suite date_YearSuffixImplicitWithNoDateOneOnly
Passed in:
(string) '(John Doe [Accessed: June 1, 1965])'
Expected:
(string) '(John Doe n.d. [Accessed: June 1, 1965])'

Failure → test-suite date_YearSuffixWithNoDate
Passed in:
(string) '(John Doe [Accessed: June 1, 1965]; John Doe [Accessed: June 1, 2065])'
Expected:
(string) '(John Doe n.d.-a [Accessed: June 1, 1965]; John Doe n.d.-b [Accessed: June 1, 2065])'

Failure → test-suite disambiguate_AddNamesSuccess
Passed in:
(string) 'Smith et al. (1980); Smith et al. (1980)'
Expected:
(string) 'Smith, Brown, et al. (1980); Smith, Beefheart, et al. (1980)'

Failure → test-suite disambiguate_AllNamesBaseNameCountOnFailureIfYearSuffixAvailable
Passed in:
(string) 'Asthma et al. (1990); Asthma et al. (1990); Dropsy et al. (2000); Dropsy et al. (2000)'
Expected:
(string) 'Asthma et al. (1990a); Asthma et al. (1990b); Dropsy, Edward Enteritis, et al. (2000); Dropsy, Ernie Enteritis, et al. (2000)'

Failure → test-suite disambiguate_AllNamesGenerally
Passed in:
(string) 'Asthma, Bronchitis and Cold (1980); Asthma, Bronchitis and Cold (1995)'
Expected:
(string) 'Asthma, Bosworth Bronchitis and C. Cold (1980); Asthma, Beauregarde Bronchitis and O. Cold (1995)'

Failure → test-suite disambiguate_AllNamesSimpleSequence
Passed in:
(string) '(Malone 2001; Malone 1951)'
Expected:
(string) '(Nolan J. Malone 2001; Kemp Malone 1951)'

Failure → test-suite disambiguate_AllNamesWithInitialsGenerally
Passed in:
(string) 'Asthma, Bronchitis and Cold (1980); Asthma, Bronchitis and Cold (1995)'
Expected:
(string) 'Asthma, Bronchitis and C. Cold (1980); Asthma, Bronchitis and O. Cold (1995)'

Failure → test-suite disambiguate_AndreaEg1a
Passed in:
(string) 'Smith et al. (1980); Smith et al. (1980)
Smith et al. (1980); Smith et al. (1980)
Smith et al. (1980); Smith et al. (1980)'
Expected:
(string) 'Smith, Brown, et al. (1980); Smith, Brown, et al. (1980)
Smith, Brown, et al. (1980); Smith, Benson, et al. (1980)
Smith, Brown, et al. (1980); Smith, Brown, et al. (1980)'

Failure → test-suite disambiguate_AndreaEg1b
Passed in:
(string) 'Smith et al. (1980); Smith et al. (1980)
Smith et al. (1980); Smith et al. (1980)
Smith et al. (1980); Smith et al. (1980)'
Expected:
(string) 'Smith, Brown &#38; J. Jones (1980); Smith, Brown &#38; J. Jones (1980)
Smith, Brown &#38; J. Jones (1980); Smith, Benson, et al. (1980)
Smith, Brown &#38; J. Jones (1980); Smith, Brown &#38; A. Jones (1980)'

Failure → test-suite disambiguate_AndreaEg2
Passed in:
(string) 'Smith et al. (1980); Smith et al. (1980)
Smith et al. (1980); Smith et al. (1980)
Smith et al. (1980); Smith et al. (1980)'
Expected:
(string) 'Smith, Brown &#38; J. Jones (1980); Smith, Brown &#38; J. Jones (1980)
Smith, Brown &#38; J. Jones (1980); Smith, Benson, et al. (1980)
Smith, Brown &#38; J. Jones (1980); Smith, Brown &#38; A. Jones (1980)'

Failure → test-suite disambiguate_AndreaEg3
Passed in:
(string) 'Smith et al. (1980); Smith et al. (1980)
Smith et al. (1980); Smith et al. (1980)
Smith et al. (1980); Smith et al. (1980)'
Expected:
(string) 'Smith, Brown &#38; J. Jones (1980a); Smith, Brown &#38; J. Jones (1980b)
Smith, Brown &#38; J. Jones (1980a); Smith, Benson, et al. (1980)
Smith, Brown &#38; J. Jones (1980a); Smith, Brown &#38; A. Jones (1980)'

Failure → test-suite disambiguate_AndreaEg4
Passed in:
(string) 'Smith et al. (1980); Smith et al. (1980)
Smith et al. (1980); Smith et al. (1980)
Smith et al. (1980); Smith et al. (1980)'
Expected:
(string) 'Smith, Brown &#38; J. Jones (1980); Smith, Brown &#38; J. Jones (1980)
Smith, Brown &#38; J. Jones (1980); Smith, Benson, et al. (1980)
Smith, Brown &#38; J. Jones (1980); Smith, Brown &#38; A. Jones (1980)'

Failure → test-suite disambiguate_AndreaEg5
Passed in:
(string) 'Smith et al. (1980); Smith et al. (1980)
Smith et al. (1980); Smith et al. (1980)
Smith et al. (1980); Smith et al. (1980)'
Expected:
(string) 'Smith, Brown &#38; J. Jones (1980a); Smith, Brown &#38; J. Jones (1980b)
Smith, Brown &#38; J. Jones (1980a); Smith, Benson, et al. (1980)
Smith, Brown &#38; J. Jones (1980a); Smith, Brown &#38; A. Jones (1980)'

Failure → test-suite disambiguate_BasedOnEtAlSubsequent
Passed in:
(string) '(Baur, Fröberg, Baur, et al. 2000; Baur, Schileyko &#38; Baur 2000; Doe 2000)'
Expected:
(string) '(Baur, Fröberg, Baur, et al. 2000<i>a</i>; Baur, Schileyko &#38; Baur 2000<i>b</i>; Doe 2000)'

Failure → test-suite disambiguate_ByCiteBaseNameCountOnFailureIfYearSuffixAvailable
Passed in:
(string) 'Asthma et al. (1990); Asthma et al. (1990); Dropsy et al. (2000); Dropsy et al. (2000)'
Expected:
(string) 'Asthma, Bosworth Bronchitis, et al. (1990); Asthma, Beauregarde Bronchitis, et al. (1990); Dropsy, Edward Enteritis, et al. (2000); Dropsy, Ernie Enteritis, et al. (2000)'

Failure → test-suite disambiguate_ByCiteGivennameExpandCrossNestedNames
Passed in:
(string) 'J. Doe et al.; J. Doe et al.; J. Doe et al.'
Expected:
(string) 'J. Doe, Jane Roe, Robert Jones; J. Doe, Josephine Roe, et al.; J. Doe, Jane Roe, Richard Jones'

Failure → test-suite disambiguate_ByCiteGivennameNoShortFormInitializeWith
Passed in:
(string) 'J Roe
J Doe; J Doe'
Expected:
(string) 'J Roe
John Doe; Jack Doe'

Failure → test-suite disambiguate_ByCiteGivennameShortFormInitializeWith
Passed in:
(string) 'Roe
Doe; Doe
Smith; Smith'
Expected:
(string) 'Roe
J Doe; A Doe
Thomas Smith; Ted Smith'

Failure → test-suite disambiguate_ByCiteGivennameShortFormNoInitializeWith
Passed in:
(string) 'Roe
Doe; Doe'
Expected:
(string) 'Roe
John Doe; Aloysius Doe'

Failure → test-suite disambiguate_ByCiteIncremental1
Passed in:
(string) '(Baines et al., 2009)
(Baines et al., 2009)
(Grubic et al., 2009)'
Expected:
(string) '(Baines, Lightfoot, Benedettini, et al., 2009)
(Baines, Lightfoot and Kay, 2009)
(Grubic et al., 2009)'

Failure → test-suite disambiguate_ByCiteIncremental2
Passed in:
(string) '(Baines et al., 2009; Baines et al., 2009)'
Expected:
(string) '(Baines, Lightfoot, Benedettini, et al., 2009; Baines, Lightfoot and Kay, 2009)'

Failure → test-suite disambiguate_ByCiteMinimalGivennameExpandMinimalNames
Passed in:
(string) 'A. Asthma et al.; A. Asthma et al.'
Expected:
(string) 'A. Asthma, Brandon Bronchitis, et al.; A. Asthma, Biff Bronchitis, et al.'

Failure → test-suite disambiguate_ByCiteRetainNamesOnFailureIfYearSuffixNotAvailable
Passed in:
(string) 'Asthma et al. (1990); Asthma et al. (1990); Dropsy et al. (2000); Dropsy et al. (2000)'
Expected:
(string) 'Asthma, Bosworth Bronchitis, et al. (1990); Asthma, Beauregarde Bronchitis, et al. (1990); Dropsy, Edward Enteritis, et al. (2000); Dropsy, Ernie Enteritis, et al. (2000)'

Failure → test-suite disambiguate_CitationLabelDefault
Passed in:
(string) '[CSL STYLE ERROR: reference with no printed form.]'
Expected:
(string) 'Asth00a; Asth00b; Bron00'

Failure → test-suite disambiguate_CitationLabelInData
Passed in:
(string) 'SpiffLabel1900; SpiffLabel1900'
Expected:
(string) 'SpiffLabel1900a; SpiffLabel1900b; Bron00; BrCh98; DEFG26'

Failure → test-suite disambiguate_DisambiguateTrueAndYearSuffixOne
Passed in:
(string) 'Pollock, Title One, 1979
Pollock, Title Two, 1980'
Expected:
(string) 'Pollock, 1979
Pollock, 1980'

Failure → test-suite disambiguate_DisambiguateTrueReflectedInBibliography
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Smith, Book One</div>
  <div class="csl-entry">Smith, Book Two</div>
  <div class="csl-entry">Brown, Book the X</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Smith, Book One</div>
  <div class="csl-entry">Smith, Book Two</div>
  <div class="csl-entry">Brown</div>
</div>'

Failure → test-suite disambiguate_FailWithYearSuffix
Passed in:
(string) '(Caritas Europa et al. 2004)
(Caritas Europa et al. 2004)'
Expected:
(string) '(Caritas Europa et al. 2004a)
(Caritas Europa et al. 2004b)'

Failure → test-suite disambiguate_ImplicitYearSuffixOnceOnly
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">[1990] Doe, Book A 05/30/1990</div>
  <div class="csl-entry">[1990] Doe, Book B 05/30/1990</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">[1990a] Doe, Book A 05/30/1990</div>
  <div class="csl-entry">[1990b] Doe, Book B 05/30/1990</div>
</div>'

Failure → test-suite disambiguate_IncrementalExtraText
Passed in:
(string) 'Yost Trisk, Book One
John Smith, Book One, ed. 3
John Smith, Book Two, ed. 4
John Smith, Complete Works, ed. 5
John Smith, Complete Works, ed. 6'
Expected:
(string) 'Yost Trisk
John Smith, Book One
John Smith, Book Two
John Smith, Complete Works, ed. 5
John Smith, Complete Works, ed. 6'

Failure → test-suite disambiguate_InitializeWithButNoDisambiguation
Passed in:
(string) '(Doe, 1965; Doe, 1965)'
Expected:
(string) '(Doe, 1965a, 1965b)'

Failure → test-suite disambiguate_LastOnlyFailWithByCite
Passed in:
(string) 'Organisation 2010
Organisation 2010'
Expected:
(string) 'Organisation 2010a
Organisation 2010b'

Failure → test-suite disambiguate_NoTextElementUsesYearSuffixVariable
Passed in:
(string) 'Doe (2000); Doe (2000)'
Expected:
(string) 'Doe (2000a); Doe (2000b)'

Failure → test-suite disambiguate_PrimaryNameGenerally
Passed in:
(string) 'Asthma and Bronchitis (1980); Asthma and Bronchitis (1995)'
Expected:
(string) 'Aloysius Asthma and Bronchitis (1980); Artemis Asthma and Bronchitis (1995)'

Failure → test-suite disambiguate_PrimaryNameWithInitialsLimitedToPrimary
Passed in:
(string) 'Asthma et al. (1980); Asthma et al. (1995); Dropsy and Asthma (1995)'
Expected:
(string) 'A. Asthma et al. (1980); G. Asthma et al. (1995); Dropsy and Asthma (1995)'

Failure → test-suite disambiguate_SetsOfNames
Passed in:
(string) '(Ely et al. 2001; Ely et al. 2001; Ely et al. 2001)'
Expected:
(string) '(Ely, Gautam, et al. 2001; Ely, Inouye, et al. 2001; Ely, Margolin, et al. 2001)'

Failure → test-suite disambiguate_SkipAccessedYearSuffix
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry"><b>Doe J</b>. His Anonymous Life. http://example.com (accessed 15 December 2000). 1965</div>
  <div class="csl-entry"><b>Doe J</b>. His Anonymous Life. http://example.com (accessed 15 December 2000). 1965</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry"><b>Doe J</b>. His Anonymous Life. http://example.com (accessed 15 December 2000). 1965a</div>
  <div class="csl-entry"><b>Doe J</b>. His Anonymous Life. http://example.com (accessed 15 December 2000). 1965b</div>
</div>'

Failure → test-suite disambiguate_ToInitialOnly
Passed in:
(string) 'Smith; Smith; Muggins; Muggins'
Expected:
(string) 'Smith; Smith; B. Muggins; J. Muggins'

Failure → test-suite disambiguate_Trigraph
Passed in:
(string) '[CSL STYLE ERROR: reference with no printed form.]
[CSL STYLE ERROR: reference with no printed form.]
[CSL STYLE ERROR: reference with no printed form.]'
Expected:
(string) 'Aalt02a
Aalt02b
Aalt02c'

Failure → test-suite disambiguate_YearCollapseWithInstitution
Passed in:
(string) '(Smith Co 2000; Smith Co 2000; Smith Co 2000)
(Smith Co 2000)
(Smith Co 2000)'
Expected:
(string) '(Smith Co 2000a; 2000b; 2000c)
(Smith Co 2000b)
(Smith Co 2000c)'

Failure → test-suite disambiguate_YearSuffixAndSort
Passed in:
(string) '1990; 1990; 1990; 1990; 1990; 1990; 1990; 1990; 1990; 1990; 1990; 1990; 1990'
Expected:
(string) '1990m!; 1990l!; 1990k!; 1990j!; 1990i!; 1990h!; 1990g!; 1990f!; 1990e!; 1990d!; 1990c!; 1990b!; 1990a!'

Failure → test-suite disambiguate_YearSuffixAtTwoLevels
Passed in:
(string) 'Smith et al. (1986); Smith et al. (1986); Smith et al. (1986); Smith et al. (1986)'
Expected:
(string) 'Smith, Jones &#38; Brown (1986a); Smith, Jones &#38; Brown (1986b); Smith, Jones, Brown, et al. (1986a); Smith, Jones, Brown, et al. (1986b)'

Failure → test-suite disambiguate_YearSuffixMacroSameYearExplicit
Passed in:
(string) 'Smith 2001
Smith 2001'
Expected:
(string) 'A Smith 2001
B Smith 2001'

Failure → test-suite disambiguate_YearSuffixMacroSameYearImplicit
Passed in:
(string) 'Smith 2001
Smith 2001'
Expected:
(string) 'A Smith 2001
B Smith 2001'

Failure → test-suite disambiguate_YearSuffixMidInsert
Passed in:
(string) '(UN DESA 2011)
(UN DESA 2011)
(UN DESA 2011)'
Expected:
(string) '(UN DESA 2011b)
(UN DESA 2011c)
(UN DESA 2011a)'

Failure → test-suite disambiguate_YearSuffixMixedDates
Passed in:
(string) '(A Ylinen, 1995; A Ylinen, 1995; A Ylinen, 1995)'
Expected:
(string) '(A Ylinen, 1995a; b; c)'

Failure → test-suite disambiguate_YearSuffixTwoPairsBibliography
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">J. Doe and S. Jones, 1999</div>
  <div class="csl-entry">J. Doe and S. Jones, 1999</div>
  <div class="csl-entry">J. Doe and S. Smith, 1999</div>
  <div class="csl-entry">J. Doe and S. Smith, 1999</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">J. Doe and S. Jones, 1999a</div>
  <div class="csl-entry">J. Doe and S. Jones, 1999b</div>
  <div class="csl-entry">J. Doe and S. Smith, 1999a</div>
  <div class="csl-entry">J. Doe and S. Smith, 1999b</div>
</div>'

Failure → test-suite disambiguate_YearSuffixTwoPairsFirstNameBibliography
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">J. Doe and S. Jones, 1999</div>
  <div class="csl-entry">J. Doe and S. Jones, 1999</div>
  <div class="csl-entry">J. Doe and S. Smith, 1999</div>
  <div class="csl-entry">J. Doe and S. Smith, 1999</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">J. Doe and S. Jones, 1999a</div>
  <div class="csl-entry">J. Doe and S. Jones, 1999b</div>
  <div class="csl-entry">J. Doe and S. Smith, 1999a</div>
  <div class="csl-entry">J. Doe and S. Smith, 1999b</div>
</div>'

Failure → test-suite disambiguate_YearSuffixWithEtAlSubequent
Passed in:
(string) '(Smith 2000; Smith 2000; Smith 2000)
(Smith 2000)
(Smith 2000)'
Expected:
(string) '(Smith 2000a; 2000b; 2000c)
(Smith 2000b)
(Smith 2000c)'

Failure → test-suite disambiguate_YearSuffixWithMixedCreatorTypes
Passed in:
(string) '(Asthma 1990)
(Asthma 1990)'
Expected:
(string) '(Asthma 1990a)
(Asthma 1990b)'

Failure → test-suite display_AuthorAsHeading
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">

    <div class="csl-block">John Aloysius Doe</div>

    <div class="csl-left-margin">1999</div><div class="csl-right-inline">Aaaaa Aaaaa Aaaaa Aaaaa Aaaaa Aaaaa Aaaaa Aaaaa Aaaaa Aaaaa Aaaaa Aaaaa Aaaaa Aaaaa Aaaaa</div>
  </div>
  <div class="csl-entry">

    <div class="csl-block">John Aloysius Doe</div>

    <div class="csl-left-margin">2000</div><div class="csl-right-inline">Bbbbb Bbbbb Bbbbb Bbbbb Bbbbb Bbbbb Bbbbb Bbbbb Bbbbb Bbbbb Bbbbb Bbbbb Bbbbb Bbbbb Bbbbb</div>
  </div>
  <div class="csl-entry">

    <div class="csl-block">Jane Henrietta Roe</div>

    <div class="csl-left-margin">1999</div><div class="csl-right-inline">Ccccc Ccccc Ccccc Ccccc Ccccc Ccccc Ccccc Ccccc Ccccc Ccccc Ccccc Ccccc Ccccc Ccccc Ccccc</div>
  </div>
  <div class="csl-entry">

    <div class="csl-block">Jane Henrietta Roe</div>

    <div class="csl-left-margin">1999</div><div class="csl-right-inline">Ddddd Ddddd Ddddd Ddddd Ddddd Ddddd Ddddd Ddddd Ddddd Ddddd Ddddd Ddddd Ddddd Ddddd Ddddd</div>
  </div>
  <div class="csl-entry">

    <div class="csl-block">Jane Henrietta Roe</div>

    <div class="csl-left-margin">2000</div><div class="csl-right-inline">Eeeee Eeeee Eeeee Eeeee Eeeee Eeeee Eeeee Eeeee Eeeee Eeeee Eeeee Eeeee Eeeee Eeeee Eeeee</div>
  </div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">

    <div class="csl-block">John Aloysius Doe</div>

    <div class="csl-left-margin">1999</div><div class="csl-right-inline">Aaaaa Aaaaa Aaaaa Aaaaa Aaaaa Aaaaa Aaaaa Aaaaa Aaaaa Aaaaa Aaaaa Aaaaa Aaaaa Aaaaa Aaaaa</div>
  </div>
  <div class="csl-entry">
    <div class="csl-left-margin">2000</div><div class="csl-right-inline">Bbbbb Bbbbb Bbbbb Bbbbb Bbbbb Bbbbb Bbbbb Bbbbb Bbbbb Bbbbb Bbbbb Bbbbb Bbbbb Bbbbb Bbbbb</div>
  </div>
  <div class="csl-entry">

    <div class="csl-block">Jane Henrietta Roe</div>

    <div class="csl-left-margin">1999a</div><div class="csl-right-inline">Ccccc Ccccc Ccccc Ccccc Ccccc Ccccc Ccccc Ccccc Ccccc Ccccc Ccccc Ccccc Ccccc Ccccc Ccccc</div>
  </div>
  <div class="csl-entry">
    <div class="csl-left-margin">1999b</div><div class="csl-right-inline">Ddddd Ddddd Ddddd Ddddd Ddddd Ddddd Ddddd Ddddd Ddddd Ddddd Ddddd Ddddd Ddddd Ddddd Ddddd</div>
  </div>
  <div class="csl-entry">
    <div class="csl-left-margin">2000</div><div class="csl-right-inline">Eeeee Eeeee Eeeee Eeeee Eeeee Eeeee Eeeee Eeeee Eeeee Eeeee Eeeee Eeeee Eeeee Eeeee Eeeee</div>
  </div>
</div>'

Failure → test-suite flipflop_CompleteCiteInPrefix
Passed in:
(string) 'Wilhelm Dilthey, “The Types of World Views and Their Unfoldment Within the Metaphysical Systems,” in Dilthey’s Philosophy of Existence: Introduction to Weltanschauungslehre, trans. William Kluback and Martin Weinbaum (New York: Bookman Associates, 1957), 26–27 Other Book Title'
Expected:
(string) 'Wilhelm Dilthey, “The Types of World Views and Their Unfoldment Within the Metaphysical Systems,” in <i>Dilthey’s Philosophy of Existence: Introduction to Weltanschauungslehre</i>, trans. William Kluback and Martin Weinbaum (New York: Bookman Associates, 1957), 26–27 Other Book Title'

Failure → test-suite flipflop_ItalicsFlipped
Passed in:
(string) '<i>One Two Three Four Five!</i>
<i>One Two &#60;i&#62;Three Four&#60;/i&#62; Five!</i>'
Expected:
(string) '<i>One Two <span style="font-style:normal;">Three</span> Four Five!</i>
<i>One <span style="font-style:normal;">Two <i>Three</i> Four</span> Five!</i>'

Failure → test-suite flipflop_ItalicsSimple
Passed in:
(string) 'One TwoA Three Four Five!
One TwoB Three Four Five!
One TwoC Three Four Five!
One TwoD Three Four Five!
One TwoE &#60;i&#62;Three Four Five!&#60;/i&#62;
One TwoF&#60;/i&#62; Three Four Five!'
Expected:
(string) 'One TwoA <i>Three Four</i> Five!
<i>One TwoB</i> Three Four Five!
One TwoC Three <i>Four Five!</i>
<i>One TwoD</i> Three <i>Four Five!</i>
<i>One TwoE <span style="font-style:normal;">Three</span> Four Five!</i>
One TwoF&#60;/i&#62; Three Four Five!'

Failure → test-suite flipflop_ItalicsWithOk
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry"><i>Lessard v. Schmidt</i>. 1972. 349 F. Supp. 1078 (E.D. Wisc.).</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry"><i>Lessard <span style="font-style:normal;">v.</span> Schmidt</i>. 1972. 349 F. Supp. 1078 (E.D. Wisc.).</div>
</div>'

Failure → test-suite flipflop_ItalicsWithOkAndTextcase
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry"><span style="font-variant:small-caps;">lessard v. schmidt</span>. 1972. 349 F. Supp. 1078 (E.D. Wisc.).</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry"><span style="font-variant:small-caps;">Lessard <span style="font-variant:normal;">v.</span> Schmidt</span>. 1972. 349 F. Supp. 1078 (E.D. Wisc.).</div>
</div>'

Failure → test-suite flipflop_LeadingMarkupWithApostrophe
Passed in:
(string) 'Insha’Allah is an Arabic phrase meaning “God willing.” Another Arabic word is bukra. Aalto'
Expected:
(string) '<i>Insha’Allah</i> is an Arabic phrase meaning ‘God willing’. Another Arabic word is <i>bukra</i>. Aalto'

Failure → test-suite flipflop_LongComplexPrefix
Passed in:
(string) 'The French translation provided there runs, Toi, qui cultives notre philosophie sous lhabit étranger—et peut-être pas si étranger que cela, puisque la chevelure des naziréens et la consécration de la tête, dont il a toujours tenu le fer à lécart, sont aussi comme une loi des sanctuaires, et que la blancheur et l’éclat des vêtements appartiennent aux anges, quand on les représente sous une forme corporelle: c’est, je pense, le symbole de la pureté propre à leur nature—! Other Book Title'
Expected:
(string) 'The French translation provided there runs, <i>Toi, qui cultives notre philosophie sous lhabit étranger—et peut-être pas si étranger que cela, puisque la chevelure des naziréens et la consécration de la tête, dont il a toujours tenu le fer à lécart, sont aussi comme une loi des sanctuaires, et que la blancheur et l’éclat des vêtements appartiennent aux anges, quand on les représente sous une forme corporelle: c’est, je pense, le symbole de la pureté propre à leur nature—!</i> Other Book Title'

Failure → test-suite flipflop_NumericField
Passed in:
(string) '1<sup>er</sup>'
Expected:
(string) '1&#60;sup&#62;er&#60;/sup&#62;'

Failure → test-suite flipflop_OrphanQuote
Passed in:
(string) 'Nation of “Positive Obligations ” of State under the European Convention on Human Rights (1)'
Expected:
(string) 'Nation of "Positive Obligations " of State under the European Convention on Human Rights (1)'

Failure → test-suite flipflop_SingleQuotesOnItalics
Passed in:
(string) 'It is official (“My Title”) now'
Expected:
(string) 'It is official (“<i>My Title</i>”) now'

Failure → test-suite flipflop_SmallCaps
Passed in:
(string) '<span style="font-variant:small-caps;">His Anonymous Life</span>, His Anthology'
Expected:
(string) '<span style="font-variant:small-caps;">His <span style="font-variant:normal;">Anonymous</span> Life</span>, His <span style="font-variant:small-caps;">Anthology</span>'

Failure → test-suite fullstyles_ABdNT
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">COLE, S. J.; MOORE, R. Hydrological modelling using raingauge- and radar-based estimators of areal rainfall. <b>Journal of Hydrology</b>, v. 358, n. 3-4, p. 159–181, 2008. </div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">COLE, S. J.; MOORE, R. Hydrological modelling using raingauge- and radar-based estimators of areal rainfall. <b>Journal of Hydrology</b>, v. 358, n. 3–4, p. 159–181, 2008. </div>
</div>'

Failure → test-suite fullstyles_ChicagoAuthorDateSimple
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Doe, John. 1990. <i>Book A</i>. Brobdingnag: Zardoz Press.</div>
  <div class="csl-entry">Doe, John, and Jane Roe. 1991. <i>Book B</i>.</div>
  <div class="csl-entry">Doe, John, Jane Roe, and Alvin Asthma. 1992. <i>Book C</i>.</div>
  <div class="csl-entry">Doe, John, Jane Roe, Alvin Asthma, Bob Bronchitis, Chris Cold, Don Dropsy, Ernie Enteritis, et al. 1993. <i>Book D</i>.</div>
  <div class="csl-entry">Doe, John, Jane Roe, Alvin Asthma, Bob Bronchitis, Chris Cold, Don Dropsy, Ernie Enteritis, et al. 1994. <i>Book E</i>.</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Doe, John. 1990. <i>Book A</i>. Brobdingnag: Zardoz Press.</div>
  <div class="csl-entry">Doe, John, and Jane Roe. 1991. <i>Book B</i>.</div>
  <div class="csl-entry">Doe, John, Jane Roe, and Alvin Asthma. 1992. <i>Book C</i>.</div>
  <div class="csl-entry">Doe, John, Jane Roe, Alvin Asthma, Bob Bronchitis, Chris Cold, Don Dropsy, Ernie Enteritis, et al. 1993. <i>Book D</i>.</div>
  <div class="csl-entry">---. 1994. <i>Book E</i>.</div>
</div>'

Failure → test-suite group_ComplexNesting
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Doe Inc.. Retrieved June 1, 1965, from http://example.com/</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Doe Inc. (n.d.). Retrieved June 1, 1965, from http://example.com/</div>
</div>'

Failure → test-suite group_SuppressTermInMacro
Passed in:
(string) 'His Anonymous Life, in '
Expected:
(string) 'His Anonymous Life'

Failure → test-suite label_CollapsedPageNumberPluralDetection
Passed in:
(string) 'His Anonymous Life, page 327\-30
His Anonymous Life, page 427–430'
Expected:
(string) 'His Anonymous Life, page 327-30
His Anonymous Life, pages 427–430'

Failure → test-suite label_EditorTranslator1
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">1.	Иванов И.И. 
      . Пример оформления книги с редактором и переводчиком в одном лице : вид издания : in 5 vols. Vol. 2 / И.И. Иванов, П.П. Петров, С.С. Сидоров; ed. Р.Р. Романов; tran. Р.Р. Романов Дополнительно. – Тюмень: Дом, 2013. – 10. – 100 p.</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">1.	Иванов И.И. Пример оформления книги с редактором и переводчиком в одном лице : вид издания : in 5 vols. Vol. 2 / И.И. Иванов, П.П. Петров, С.С. Сидоров; ed &#38; trans. Р.Р. Романов Дополнительно. – Тюмень: Дом, 2013. – 10. – 100 p.</div>
</div>'

Failure → test-suite label_EditorTranslator2
Passed in:
(string) 'Some title, “Hello there.”'
Expected:
(string) 'Some title, “Hello there”.'

Failure → test-suite label_NameLabelThroughSubstitute
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Wolf, K. S. (2005). The future for Deaf individuals is not that bleak. Retrieved from http://www.personalityresearch.org/papers/hall.html</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Wolf, K. S. (2005). The future for Deaf individuals is not that bleak [Peer commentary, <i>Decrease of Deaf potential in a mainstreamed environment</i>, by W. C. Hall]. Retrieved from http://www.personalityresearch.org/papers/hall.html</div>
</div>'

Failure → test-suite label_PluralWithAmpersand
Passed in:
(string) 'page 213 &#38; 235'
Expected:
(string) 'pages 213 &#38; 235'

Failure → test-suite label_PluralWithAnd
Passed in:
(string) 'page 213and'
Expected:
(string) 'pages 213 and 235'

Failure → test-suite label_PluralWithCommaAnd
Passed in:
(string) 'page 213, and235'
Expected:
(string) 'pages 213, and 235'

Failure → test-suite label_PluralWithCommaLocalizedAnd
Passed in:
(string) 'page 213, et235'
Expected:
(string) 'pages 213, et 235'

Failure → test-suite label_PluralWithLocalizedAmpersand
Passed in:
(string) 'page 213 &#38; 235'
Expected:
(string) 'pages 213 AMPERSAND 235'

Failure → test-suite label_PluralWithLocalizedAnd
Passed in:
(string) 'page 213et'
Expected:
(string) 'pages 213 et 235'

Failure → test-suite locator_SimpleLocators
Passed in:
(string) 'Doe, Book A, 2000, p. 100–103; Roe, Book B, 2001, p. 200–201.'
Expected:
(string) 'Doe, Book A, 2000, pp. 100–103; Roe, Book B, 2001, chaps. 200–201.'

Failure → test-suite locator_SingularEmbeddedLabelAfterPlural
Passed in:
(string) 'Book One, page 367–368, fig.'
Expected:
(string) 'Book One, pages 367–368, fig. 333'

Failure → test-suite locator_TermSelection
Passed in:
(string) 'Book A, p. 101'
Expected:
(string) 'Book A, fol. 101'

Failure → test-suite locator_TrickyEntryForPlurals
Passed in:
(string) 'Book Title, p. vol., fol., 8April'
Expected:
(string) 'Book Title, vol. 1, fol. 186, 8 April 1544'

Failure → test-suite locator_WithLeadingSpace
Passed in:
(string) 'Hello Title: 666'
Expected:
(string) 'Hello Title:666'

Failure → test-suite locator_WorkaroundTestForSubVerbo
Passed in:
(string) 'Book With Opus, 100
Book With Sub Verbo, 200'
Expected:
(string) 'Book With Opus, op. 100
Book With Sub Verbo, 200'

Failure → test-suite magic_CapitalizeFirstOccurringTerm
Passed in:
(string) 'and'
Expected:
(string) 'And'

Failure → test-suite magic_CitationLabelInCitation
Passed in:
(string) '[CSL STYLE ERROR: reference with no printed form.]'
Expected:
(string) '[Doe65, RoNo78a, RoNo78b]'

Failure → test-suite magic_ImplicitYearSuffixDelimiter
Passed in:
(string) 'John Doe 1965; John Doe 1965'
Expected:
(string) 'John Doe 1965a; b'

Failure → test-suite magic_ImplicitYearSuffixExplicitDelimiter
Passed in:
(string) '(1965; 1965)'
Expected:
(string) '(1965a,b)'

Failure → test-suite magic_NameSuffixNoComma
Passed in:
(string) 'John, III Doe'
Expected:
(string) 'John Doe III'

Failure → test-suite magic_NameSuffixWithComma
Passed in:
(string) 'John,! Jr. Doe'
Expected:
(string) 'John Doe, Jr.'

Failure → test-suite magic_PunctuationInQuoteNested
Passed in:
(string) 'Doe. “<i>Book A.</i>” 1900.'
Expected:
(string) 'Doe. <i>“Book A.”</i> 1900.'

Failure → test-suite magic_StripPeriodsExcludeAffixes
Passed in:
(string) 'John Doe.Journal Title.Jane Roe.Journ. Title.'
Expected:
(string) 'John Doe.Journal Title.Jane Roe.Journ Title.'

Failure → test-suite magic_StripPeriodsTrue
Passed in:
(string) '“An Article,” Am. L.J.'
Expected:
(string) '“An Article,” Am LJ.'

Failure → test-suite magic_StripPeriodsTrueShortForm
Passed in:
(string) 'American Law Journal; Am. L.J.'
Expected:
(string) 'Am LJ; Am LJ.'

Failure → test-suite magic_SubsequentAuthorSubstitute
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">John Smith and Jane Roe, Book A (2000)</div>
  <div class="csl-entry">John Smith and Jane Roe, Book B (2001)</div>
  <div class="csl-entry">John Smith, Book C (2002)</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">John Smith and Jane Roe, Book A (2000)</div>
  <div class="csl-entry">———, Book B (2001)</div>
  <div class="csl-entry">John Smith, Book C (2002)</div>
</div>'

Failure → test-suite magic_SubsequentAuthorSubstituteNotFooled
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Silverstein, Theodore, tran.. “Sir Gawain and the Green Knight.” Chicago: University of Chicago Press, 1974.</div>
  <div class="csl-entry">Soltes, Ori A., ed.. “Georgia: Art and Civilization through the Ages.” London: Philip Wilson, 1999.</div>
  <div class="csl-entry">“The Chicago Manual of Style.” Chicago: University of Chicago Press, 1993.</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Silverstein, Theodore, tran. “Sir Gawain and the Green Knight.” Chicago: University of Chicago Press, 1974.</div>
  <div class="csl-entry">Soltes, Ori A., ed. “Georgia: Art and Civilization through the Ages.” London: Philip Wilson, 1999.</div>
  <div class="csl-entry">“The Chicago Manual of Style.” Chicago: University of Chicago Press, 1993.</div>
</div>'

Failure → test-suite magic_SubsequentAuthorSubstituteOfTitleField
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Warren Smith (2000)</div>
  <div class="csl-entry">Warren Smith (2001)</div>
  <div class="csl-entry">Book Y (2002)</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Warren Smith (2000)</div>
  <div class="csl-entry">----- (2001)</div>
  <div class="csl-entry">Book Y (2002)</div>
</div>'

Failure → test-suite magic_SuppressLayoutDelimiterIfPrefixComma
Passed in:
(string) 'Book A; , cited in Book B'
Expected:
(string) 'Book A, cited in Book B'

Failure → test-suite name_AfterInvertedName
Passed in:
(string) 'DOEBUCK, Jonathan, et al.; DOE, John, et al.; DOE, John, et al.
APPLEBY, Aloysius, and Bobby BROWN; APPLEBY, Aloysius, et al.; APPLEBY, Aloysius, et al.'
Expected:
(string) 'DOEBUCK, Jonathan, et al.; DOE, John, Jane ROE et al.; DOE, John, Janice ROEBUCK et al.
APPLEBY, Aloysius, and Bobby BROWN; APPLEBY, Aloysius, Bobby BROWN and Cecile CREAM; APPLEBY, Aloysius, Bobby BROWN and Enola EVERGREEN'

Failure → test-suite name_CiteGroupDelimiterWithYearCollapse
Passed in:
(string) '(Aalto 2015; Aalto 2015)'
Expected:
(string) '(Aalto 2015a 2015b)'

Failure → test-suite name_CiteGroupDelimiterWithYearSuffixCollapse
Passed in:
(string) '(Aalto 2015; Aalto 2015)'
Expected:
(string) '(Aalto 2015a, b)'

Failure → test-suite name_CiteGroupDelimiterWithYearSuffixCollapse2
Passed in:
(string) '(Aalto 2015; Aalto 2015; Bartleby 2010; Aalto 2015; Aalto 2015; Aalto 2015)'
Expected:
(string) '(Aalto 2015a,b; Bartleby 2010; Aalto 2015c–e)'

Failure → test-suite name_CiteGroupDelimiterWithYearSuffixCollapse3
Passed in:
(string) '(Aalto 2015; Aalto 2015; Bartleby 2010)'
Expected:
(string) '(Aalto 2015a,b; Bartleby 2010)'

Failure → test-suite name_CollapseRoleLabels
Passed in:
(string) 'Albert Asthma et al. (eds.), Albert Asthma et al. (trans.)'
Expected:
(string) 'Albert Asthma et al. (eds. &#38; trans.)'

Failure → test-suite name_EditorTranslatorBoth
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Noakes, Richard. <i>Hello</i>. Ed. By John Doe. Trans. By Jane Roe.</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Noakes, Richard. <i>Hello</i>. Ed. by John Doe. Trans. by Jane Roe.</div>
</div>'

Failure → test-suite name_EditorTranslatorSameWithTerm
Passed in:
(string) 'John Doe (ed.), John Doe (tran.)'
Expected:
(string) 'John Doe (ed. &#38; tran.)'

Failure → test-suite name_EditorTranslatorWithTranslatorOnlyBib
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Noakes, Richard. <i>Hello</i>. Trans. By Jane Roe.</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Noakes, Richard. <i>Hello</i>. Trans. by Jane Roe.</div>
</div>'

Failure → test-suite name_EtAlWithCombined
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">John Doe。</div>
  <div class="csl-entry">John Doe，Ziggy Zither 等點校。</div>
  <div class="csl-entry">田中太郎, Yossarian Yoda, 等翻譯員。</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">John Doe。</div>
  <div class="csl-entry">——著，Ziggy Zither等點校。</div>
  <div class="csl-entry">田中太郎, Yossarian Yoda, 等翻譯員。</div>
</div>'

Failure → test-suite name_HebrewAnd
Passed in:
(string) 'תפוח ו  תפוז'
Expected:
(string) 'תפוחו תפוז'

Failure → test-suite name_InTextMarkupInitialize
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Doe, John Q.</div>
  <div class="csl-entry">Doe, John-Q.</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry"><b>Doe</b>, <b>J.</b> Q.</div>
  <div class="csl-entry"><b>Doe</b>, <b>J.</b>-Q.</div>
</div>'

Failure → test-suite name_InTextMarkupNormalizeInitials
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Doe, J Q.</div>
  <div class="csl-entry">Doe, J-Q.</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry"><b>Doe</b>, <b>J.</b> Q.</div>
  <div class="csl-entry"><b>Doe</b>, <b>J.</b>-Q.</div>
</div>'

Failure → test-suite name_InstitutionDecoration
Passed in:
(string) 'São Paulo (Estado)'
Expected:
(string) 'SÃO PAULO (ESTADO)'

Failure → test-suite name_ParseNames
Passed in:
(string) 'Humboldt, Alexander von; van der Vlist, Eric; van Gogh, Vincent'
Expected:
(string) 'van Gogh, Vincent; Humboldt, Alexander von; van der Vlist, Eric'

Failure → test-suite name_ParsedDroppingParticleWithApostrophe
Passed in:
(string) 'François Hédelin d’ (Aubignac)'
Expected:
(string) 'François Hédelin (d’Aubignac)'

Failure → test-suite name_ParsedNonDroppingParticleWithApostrophe
Passed in:
(string) '<span style="font-variant:small-caps;">d’Aubignac</span> (François Hédelin)'
Expected:
(string) '<span style="font-variant:small-caps;">Aubignac</span> (François Hédelin <span style="font-variant:small-caps;">d’</span>)'

Failure → test-suite name_ParticlesDemoteNonDroppingNever
Passed in:
(string) '<b>Familyname</b>, <i>Givenname al</i>
<b>Familyname</b>, <i>Givenname dos</i>
<b>Familyname</b>, <i>Givenname el</i>
<b>Las Familyname</b>, <i>Givenname de</i>
<b>Familyname</b>, <i>Givenname lo</i>
<b>Familyname</b>, <i>Givenname les</i>
<b>Familyname</b>, <i>Givenname il</i>
<b>del Familyname</b>, <i>Givenname</i>
<b>Familyname</b>, <i>Givenname dela</i>
<b>Familyname</b>, <i>Givenname della</i>
<b>Familyname</b>, <i>Givenname dello</i>
<b>Di Familyname</b>, <i>Givenname</i>
<b>Da Familyname</b>, <i>Givenname</i>
<b>Do Familyname</b>, <i>Givenname</i>
<b>Des Familyname</b>, <i>Givenname</i>
<b>Lou Familyname</b>, <i>Givenname</i>
<b>Pietro Familyname</b>, <i>Givenname</i>
<b>de Familyname</b>, <i>Givenname</i>
<b>La Familyname</b>, <i>Givenname de</i>
<b>Familyname</b>, <i>Givenname du</i>
<b>Familyname</b>, <i>Givenname d’</i>
<b>Le Familyname</b>, <i>Givenname</i>
<b>La Familyname</b>, <i>Givenname</i>
<b>L’Familyname</b>, <i>Givenname</i>
<b>Saint Familyname</b>, <i>Givenname</i>
<b>Sainte Familyname</b>, <i>Givenname</i>
<b>St. Familyname</b>, <i>Givenname</i>
<b>Ste. Familyname</b>, <i>Givenname</i>
<b>van Familyname</b>, <i>Givenname</i>
<b>van de Familyname</b>, <i>Givenname</i>
<b>van der Familyname</b>, <i>Givenname</i>
<b>van den Familyname</b>, <i>Givenname</i>
<b>vander Familyname</b>, <i>Givenname</i>
<b>v.d. Familyname</b>, <i>Givenname</i>
<b>vd Familyname</b>, <i>Givenname</i>
<b>van het Familyname</b>, <i>Givenname</i>
<b>ver Familyname</b>, <i>Givenname</i>
<b>ten Familyname</b>, <i>Givenname</i>
<b>ter Familyname</b>, <i>Givenname</i>
<b>te Familyname</b>, <i>Givenname</i>
<b>Familyname</b>, <i>Givenname op de</i>
<b>in de Familyname</b>, <i>Givenname</i>
<b>in ’t Familyname</b>, <i>Givenname</i>
<b>’t Familyname</b>, <i>Givenname</i>
<b>in het Familyname</b>, <i>Givenname</i>
<b>uit de Familyname</b>, <i>Givenname</i>
<b>uit den Familyname</b>, <i>Givenname</i>
<b>Familyname</b>, <i>Givenname von</i>
<b>Familyname</b>, <i>Givenname von der</i>
<b>Familyname</b>, <i>Givenname von dem</i>
<b>Familyname</b>, <i>Givenname von zu</i>
<b>v. Familyname</b>, <i>Givenname</i>
<b>v Familyname</b>, <i>Givenname</i>
<b>Familyname</b>, <i>Givenname vom</i>
<b>Familyname</b>, <i>Givenname das</i>
<b>Familyname</b>, <i>Givenname zum</i>
<b>Familyname</b>, <i>Givenname zur</i>
<b>Familyname</b>, <i>Givenname den</i>
<b>Familyname</b>, <i>Givenname der</i>
<b>Familyname</b>, <i>Givenname des</i>
<b>Familyname</b>, <i>Givenname auf den</i>'
Expected:
(string) '<b>Familyname</b>, <i>Givenname</i> <i>al</i>
<b>Familyname</b>, <i>Givenname</i> <i>dos</i>
<b>Familyname</b>, <i>Givenname</i> <i>el</i>
<b>Las Familyname</b>, <i>Givenname</i> <i>de</i>
<b>Familyname</b>, <i>Givenname</i> <i>lo</i>
<b>Familyname</b>, <i>Givenname</i> <i>les</i>
<b>Familyname</b>, <i>Givenname</i> <i>il</i>
<b>del</b> <b>Familyname</b>, <i>Givenname</i>
<b>Familyname</b>, <i>Givenname</i> <i>dela</i>
<b>Familyname</b>, <i>Givenname</i> <i>della</i>
<b>Familyname</b>, <i>Givenname</i> <i>dello</i>
<b>Di Familyname</b>, <i>Givenname</i>
<b>Da Familyname</b>, <i>Givenname</i>
<b>Do Familyname</b>, <i>Givenname</i>
<b>Des Familyname</b>, <i>Givenname</i>
<b>Lou Familyname</b>, <i>Givenname</i>
<b>Pietro Familyname</b>, <i>Givenname</i>
<b>de</b> <b>Familyname</b>, <i>Givenname</i>
<b>La Familyname</b>, <i>Givenname</i> <i>de</i>
<b>Familyname</b>, <i>Givenname</i> <i>du</i>
<b>Familyname</b>, <i>Givenname</i> <i>d’</i>
<b>Le Familyname</b>, <i>Givenname</i>
<b>La Familyname</b>, <i>Givenname</i>
<b>L’Familyname</b>, <i>Givenname</i>
<b>Saint Familyname</b>, <i>Givenname</i>
<b>Sainte Familyname</b>, <i>Givenname</i>
<b>St. Familyname</b>, <i>Givenname</i>
<b>Ste. Familyname</b>, <i>Givenname</i>
<b>van</b> <b>Familyname</b>, <i>Givenname</i>
<b>van de</b> <b>Familyname</b>, <i>Givenname</i>
<b>van der</b> <b>Familyname</b>, <i>Givenname</i>
<b>van den</b> <b>Familyname</b>, <i>Givenname</i>
<b>vander</b> <b>Familyname</b>, <i>Givenname</i>
<b>v.d.</b> <b>Familyname</b>, <i>Givenname</i>
<b>vd</b> <b>Familyname</b>, <i>Givenname</i>
<b>van het</b> <b>Familyname</b>, <i>Givenname</i>
<b>ver</b> <b>Familyname</b>, <i>Givenname</i>
<b>ten</b> <b>Familyname</b>, <i>Givenname</i>
<b>ter</b> <b>Familyname</b>, <i>Givenname</i>
<b>te</b> <b>Familyname</b>, <i>Givenname</i>
<b>Familyname</b>, <i>Givenname</i> <i>op de</i>
<b>in de</b> <b>Familyname</b>, <i>Givenname</i>
<b>in ’t</b> <b>Familyname</b>, <i>Givenname</i>
<b>’t</b> <b>Familyname</b>, <i>Givenname</i>
<b>in het</b> <b>Familyname</b>, <i>Givenname</i>
<b>uit de</b> <b>Familyname</b>, <i>Givenname</i>
<b>uit den</b> <b>Familyname</b>, <i>Givenname</i>
<b>Familyname</b>, <i>Givenname</i> <i>von</i>
<b>Familyname</b>, <i>Givenname</i> <i>von der</i>
<b>Familyname</b>, <i>Givenname</i> <i>von dem</i>
<b>Familyname</b>, <i>Givenname</i> <i>von zu</i>
<b>v.</b> <b>Familyname</b>, <i>Givenname</i>
<b>v</b> <b>Familyname</b>, <i>Givenname</i>
<b>Familyname</b>, <i>Givenname</i> <i>vom</i>
<b>Familyname</b>, <i>Givenname</i> <i>das</i>
<b>Familyname</b>, <i>Givenname</i> <i>zum</i>
<b>Familyname</b>, <i>Givenname</i> <i>zur</i>
<b>Familyname</b>, <i>Givenname</i> <i>den</i>
<b>Familyname</b>, <i>Givenname</i> <i>der</i>
<b>Familyname</b>, <i>Givenname</i> <i>des</i>
<b>Familyname</b>, <i>Givenname</i> <i>auf den</i>'

Failure → test-suite name_SubsequentAuthorSubstituteMultipleNames
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Bumke, Courtly Culture: Literature and Society in the High Middle Ages, Dunlap tran.</div>
  <div class="csl-entry">Bumke, Höfische</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Bumke, Courtly Culture: Literature and Society in the High Middle Ages, Dunlap tran.</div>
  <div class="csl-entry">-----, Höfische</div>
</div>'

Failure → test-suite name_SubsequentAuthorSubstituteSingleField
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Yomiuri Shinbun.</div>
  <div class="csl-entry">Yomiuri Shinbun.</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Yomiuri Shinbun.</div>
  <div class="csl-entry">———.</div>
</div>'

Failure → test-suite name_SubstitutePartialEach
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Title One</div>
  <div class="csl-entry">Title One</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Title One</div>
  <div class="csl-entry">---</div>
</div>'

Failure → test-suite name_WithNonBreakingSpace
Passed in:
(string) 'John  Doe'
Expected:
(string) 'John Doe'

Failure → test-suite number_LimitOrdinalsToDayOne
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">[CSL STYLE ERROR: reference with no printed form.]</div>
  <div class="csl-entry">[CSL STYLE ERROR: reference with no printed form.]</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">1<sup>e</sup><sup>r</sup>-14 octobre 2004</div>
  <div class="csl-entry">14 octobre-1<sup>e</sup><sup>r</sup> novembre 2004</div>
</div>'

Failure → test-suite number_OrdinalSpacing
Passed in:
(string) 'Blah blah. 7th, p. 3-8thDD<i>ed</i>'
Expected:
(string) 'Blah blah. 7th, pp. 3–8DD<i>ed</i>'

Failure → test-suite number_PlainHyphenOrEnDashAlwaysPlural
Passed in:
(string) 'His Anonymous Life (1) pages 1–2 (cs:text) vs His Anonymous Life (1) pages 1–2 (cs:number); His Anonymous Life (2) pages i-ix (cs:text) vs His Anonymous Life (2) pages i-ix (cs:number); His Anonymous Life (3) page 3\-B (cs:text) vs His Anonymous Life (3) page 3\-B (cs:number); His Anonymous Life (4) pages Michaelson-Morely (cs:text) vs His Anonymous Life (4) pages Michaelson-Morely (cs:number); His Anonymous Life (4) pages Michaelson-Morely (cs:text) vs His Anonymous Life (4) pages Michaelson-Morely (cs:number)'
Expected:
(string) 'His Anonymous Life (1) pages 1–2 (cs:text) vs His Anonymous Life (1) pages 1–2 (cs:number); His Anonymous Life (2) pages i–ix (cs:text) vs His Anonymous Life (2) pages i–ix (cs:number); His Anonymous Life (3) page 3-B (cs:text) vs His Anonymous Life (3) page 3-B (cs:number); His Anonymous Life (4) page Michaelson-Morely (cs:text) vs His Anonymous Life (4) page Michaelson-Morely (cs:number)'

Failure → test-suite position_IbidWithSuffix
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Alan Aberdeen</div>
  <div class="csl-entry">Beatrice Butterfield</div>
  <div class="csl-entry">Sergei Kaspersky</div>
  <div class="csl-entry">Al-Khatib Organization</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Alan Aberdeen</div>
  <div class="csl-entry">Al-Khatib Organization</div>
  <div class="csl-entry">Beatrice Butterfield</div>
  <div class="csl-entry">Sergei Kaspersky</div>
</div>'

Failure → test-suite punctuation_DefaultYearSuffixDelimiter
Passed in:
(string) '(Aalto 2000; Aalto 2000; Aalto 2000)'
Expected:
(string) '(Aalto 2000a; b; c)'

Failure → test-suite quotes_PunctuationWithInnerQuote
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">“This is ’The One’.”</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">“This is ‘The One.’”</div>
</div>'

Failure → test-suite quotes_QuotesUnderQuotesFalse
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry"> ’Title with ‘quotes’ in it',..</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry"> 'Title with ‘quotes’ in it',.</div>
</div>'

Failure → test-suite sort_AguStyle
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Smith, A. (1989)</div>
  <div class="csl-entry">Smith, A. (1989)</div>
  <div class="csl-entry">Smith, A. (1991)</div>
  <div class="csl-entry">Smith, A. and C. Allen (1992)</div>
  <div class="csl-entry">Smith, A. and B. Frank (1995)</div>
  <div class="csl-entry">Smith, A. and B. Frank (1997)</div>
  <div class="csl-entry">Smith, A., L. Roberts, and T. Jones (1993)</div>
  <div class="csl-entry">Smith, A., T. Jones, and L. Roberts (1997)</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Smith, A. (1989a)</div>
  <div class="csl-entry">Smith, A. (1989b)</div>
  <div class="csl-entry">Smith, A. (1991)</div>
  <div class="csl-entry">Smith, A. and C. Allen (1992)</div>
  <div class="csl-entry">Smith, A. and B. Frank (1995)</div>
  <div class="csl-entry">Smith, A. and B. Frank (1997)</div>
  <div class="csl-entry">Smith, A., L. Roberts, and T. Jones (1993)</div>
  <div class="csl-entry">Smith, A., T. Jones, and L. Roberts (1997)</div>
</div>'

Failure → test-suite sort_AguStyleReverseGroups
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Smith, A. (1989)</div>
  <div class="csl-entry">Smith, A. (1989)</div>
  <div class="csl-entry">Smith, A. (1991)</div>
  <div class="csl-entry">Smith, A., L. Roberts, and T. Jones (1993)</div>
  <div class="csl-entry">Smith, A., T. Jones, and L. Roberts (1997)</div>
  <div class="csl-entry">Smith, A. and C. Allen (2000)</div>
  <div class="csl-entry">Smith, A. and B. Frank (1995)</div>
  <div class="csl-entry">Smith, A. and B. Frank (1997)</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Smith, A., L. Roberts, and T. Jones (1993)</div>
  <div class="csl-entry">Smith, A., T. Jones, and L. Roberts (1997)</div>
  <div class="csl-entry">Smith, A. and C. Allen (2000)</div>
  <div class="csl-entry">Smith, A. and B. Frank (1995)</div>
  <div class="csl-entry">Smith, A. and B. Frank (1997)</div>
  <div class="csl-entry">Smith, A. (1989a)</div>
  <div class="csl-entry">Smith, A. (1989b)</div>
  <div class="csl-entry">Smith, A. (1991)</div>
</div>'

Failure → test-suite sort_BibliographyCitationNumberDescendingViaCompositeMacro
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">[1] Aaaa</div>
  <div class="csl-entry">[2] Bbbb</div>
  <div class="csl-entry">[3] Xxxx</div>
  <div class="csl-entry">[4] Zzzz</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">[4] Aaaa</div>
  <div class="csl-entry">[3] Bbbb</div>
  <div class="csl-entry">[2] Xxxx</div>
  <div class="csl-entry">[1] Zzzz</div>
</div>'

Failure → test-suite sort_BibliographyCitationNumberDescendingViaMacro
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">[1] Book One</div>
  <div class="csl-entry">[2] Book Three</div>
  <div class="csl-entry">[3] Book Four</div>
  <div class="csl-entry">[4] Book Six</div>
  <div class="csl-entry">[5] Book Two</div>
  <div class="csl-entry">[6] Book Five</div>
  <div class="csl-entry">[7] Book Seven</div>
  <div class="csl-entry">[8] Book Eight</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">[8] Book One</div>
  <div class="csl-entry">[7] Book Three</div>
  <div class="csl-entry">[6] Book Four</div>
  <div class="csl-entry">[5] Book Six</div>
  <div class="csl-entry">[4] Book Two</div>
  <div class="csl-entry">[3] Book Five</div>
  <div class="csl-entry">[2] Book Seven</div>
  <div class="csl-entry">[1] Book Eight</div>
</div>'

Failure → test-suite sort_ChicagoYearSuffix1
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Beijing Zoo. 1974. Observations on the breeding of the giant panda and the raising of its young [in Chinese]. <i>Acta Zoologica Sinica</i> 20: 154–61.</div>
  <div class="csl-entry">Beijing Zoo. 1974. On the diseases of the giant panda and their preventive and curative measures [in Chinese]. <i>Acta Zoologica Sinica</i> 20: 139–47.</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Beijing Zoo. 1974a. Observations on the breeding of the giant panda and the raising of its young [in Chinese]. <i>Acta Zoologica Sinica</i> 20: 154–61.</div>
  <div class="csl-entry">---. 1974b. On the diseases of the giant panda and their preventive and curative measures [in Chinese]. <i>Acta Zoologica Sinica</i> 20: 139–47.</div>
</div>'

Failure → test-suite sort_ChicagoYearSuffix2
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Beijing Zoo. 1974. Observations on the breeding of the giant panda and the raising of its young [in Chinese]. <i>Acta Zoologica Sinica</i> 20: 154–61.</div>
  <div class="csl-entry">Beijing Zoo. 1974. On the diseases of the giant panda and their preventive and curative measures [in Chinese]. <i>Acta Zoologica Sinica</i> 20: 139–47.</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Beijing Zoo. 1974a. Observations on the breeding of the giant panda and the raising of its young [in Chinese]. <i>Acta Zoologica Sinica</i> 20: 154–61.</div>
  <div class="csl-entry">---. 1974b. On the diseases of the giant panda and their preventive and curative measures [in Chinese]. <i>Acta Zoologica Sinica</i> 20: 139–47.</div>
</div>'

Failure → test-suite sort_CitationNumberPrimaryDescendingViaMacroBibliography
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">[1] Xxxx (fourth-cited)</div>
  <div class="csl-entry">[2] Zzzz (third-cited)</div>
  <div class="csl-entry">[3] Bbbb (second-cited)</div>
  <div class="csl-entry">[4] Aaaa (first-cited)</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">[4] Xxxx (fourth-cited)</div>
  <div class="csl-entry">[3] Zzzz (third-cited)</div>
  <div class="csl-entry">[2] Bbbb (second-cited)</div>
  <div class="csl-entry">[1] Aaaa (first-cited)</div>
</div>'

Failure → test-suite sort_CitationNumberPrimaryDescendingViaVariableBibliography
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">[1] Xxxx (fourth-cited)</div>
  <div class="csl-entry">[2] Zzzz (third-cited)</div>
  <div class="csl-entry">[3] Bbbb (second-cited)</div>
  <div class="csl-entry">[4] Aaaa (first-cited)</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">[4] Xxxx (fourth-cited)</div>
  <div class="csl-entry">[3] Zzzz (third-cited)</div>
  <div class="csl-entry">[2] Bbbb (second-cited)</div>
  <div class="csl-entry">[1] Aaaa (first-cited)</div>
</div>'

Failure → test-suite sort_CiteGroupDelimiter
Passed in:
(string) 'Banda 1999; Aalto 2000; Aalto 2001'
Expected:
(string) 'Banda 1999; Aalto 2000, Aalto 2001'

Failure → test-suite sort_DropNameLabelInSort
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Doe, John ed. <i>Hello</i>.</div>
  <div class="csl-entry">Doe, John. <i>Hello</i>.</div>
  <div class="csl-entry">Doe, John Eamon. <i>Hello</i>.</div>
  <div class="csl-entry">Doe, John Egbert. <i>Hello</i>.</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Doe, John ed. <i>Hello</i>.</div>
  <div class="csl-entry">---. <i>Hello</i>.</div>
  <div class="csl-entry">Doe, John Eamon. <i>Hello</i>.</div>
  <div class="csl-entry">Doe, John Egbert. <i>Hello</i>.</div>
</div>'

Failure → test-suite sort_NameImplicitSortOrderAndForm
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Doe, Book B</div>
  <div class="csl-entry">Doe, Book C</div>
  <div class="csl-entry">Roe, Book A</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Doe, Book C</div>
  <div class="csl-entry">Doe, Book B</div>
  <div class="csl-entry">Roe, Book A</div>
</div>'

Failure → test-suite sort_OmittedBibRefMixedNumericStyle
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">1. Anderson, Book One</div>
  <div class="csl-entry">[CSL STYLE ERROR: reference with no printed form.]</div>
  <div class="csl-entry">3. Crane, Book Two</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">1. Anderson, Book One</div>
  <div class="csl-entry">2. [CSL STYLE ERROR: reference with no printed form.]</div>
  <div class="csl-entry">3. Crane, Book Two</div>
</div>'

Failure → test-suite sort_OmittedBibRefNonNumericStyle
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Anderson, Book One</div>
  <div class="csl-entry">[CSL STYLE ERROR: reference with no printed form.]</div>
  <div class="csl-entry">Crane, Book Two</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Anderson, Book One</div>
  <div class="csl-entry">Crane, Book Two</div>
</div>'

Failure → test-suite sort_Quotes
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">“Simple title here B”</div>
  <div class="csl-entry">Simple ’title’ here C</div>
  <div class="csl-entry">Simple title, here A</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Simple title, here A</div>
  <div class="csl-entry">“Simple title here B”</div>
  <div class="csl-entry">Simple “title” here C</div>
</div>'

Failure → test-suite sort_SeparateAuthorsAndOthers
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Doe, John. <i>Hello 4</i>.</div>
  <div class="csl-entry">Doe, John ed. <i>Hello 1</i>.</div>
  <div class="csl-entry">Doe, John Barbitol. <i>Hello 2</i>.</div>
  <div class="csl-entry">Doe, John Egbert. <i>Hello 3</i>.</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Doe, John. <i>Hello 4</i>.</div>
  <div class="csl-entry">--- ed. <i>Hello 1</i>.</div>
  <div class="csl-entry">Doe, John Barbitol. <i>Hello 2</i>.</div>
  <div class="csl-entry">Doe, John Egbert. <i>Hello 3</i>.</div>
</div>'

Failure → test-suite sort_WithAndInOneEntry
Passed in:
(string) '(Beck 1991; Beck and Katz 2001; Beck and Katz 2011; Beck, Katz, and Tucker 1998; Beck, King, and Zeng 2000; Colaresi 2006; Colaresi and Thompson 2002; Colaresi, Rasler, and Thompson 2007; Gochman 1993; Gochman and Leng 1983; Gochman and Maoz 1984)'
Expected:
(string) '(Beck 1991; Beck and Katz 2001, 2011; Beck, Katz, and Tucker 1998; Beck, King, and Zeng 2000; Colaresi 2006; Colaresi, Rasler, and Thompson 2007; Colaresi and Thompson 2002; Gochman 1993; Gochman and Leng 1983; Gochman and Maoz 1984)'

Failure → test-suite substitute_SharedMacro
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Alan Alto Inc.: Book Four. (zugegriffen am).</div>
  <div class="csl-entry">Alan Alto Inc.: Book Three. (zugegriffen am).</div>
  <div class="csl-entry">Alto, Alan: Book Two. (zugegriffen am).</div>
  <div class="csl-entry">Alto, Alan: Book One. (zugegriffen am).</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Alan Alto Inc.: Book Three.</div>
  <div class="csl-entry">---: Book Four.</div>
  <div class="csl-entry">Alto, Alan: Book One.</div>
  <div class="csl-entry">---: Book Two.</div>
</div>'

Failure → test-suite substitute_SubstituteOnlyOnceTermEmpty
Passed in:
(string) '[CSL STYLE ERROR: reference with no printed form.]'
Expected:
(string) 'Content:'

Failure → test-suite testers_SecondAutoGeneratedZoteroPluginTest
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Center <sup>for</sup> History <sub>and</sub> New Media. “Zotero … ‘Quick Start’ &#38; <span style="font-variant:small-caps;">Guide</span> 日本語.” http://zotero.org/support/quick_start_guide.</div>
  <div class="csl-entry">Smith, John. <i>Book A</i>, 2000.</div>
  <div class="csl-entry">Smith, Steven. <i>Book A</i>, 2000.</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Center <sup>for</sup> History <sub>and</sub> New Media. “<b>Zotero</b> … ‘Quick Start’ &#38; <span style="font-variant:small-caps;">Guide</span> 日本語.” http://zotero.org/support/quick_start_guide.</div>
  <div class="csl-entry">Smith, John. <i>Book A</i>, 2000.</div>
  <div class="csl-entry">Smith, Steven. <i>Book A</i>, 2000.</div>
</div>'

Failure → test-suite textcase_CapitalsUntouched
Passed in:
(string) 'Uk
Review of Book by A.N. Author
Writings on UK People and Places
All for One. For All.
Oc 1'
Expected:
(string) 'UK
Review of Book by A.N. Author
Writings on UK People and Places
All for One. For All.
OC 1'

Failure → test-suite textcase_InQuotes
Passed in:
(string) 'From “Distance” to “Friction”: Substituting Metaphors and Redirecting Intercultural Research for'
Expected:
(string) 'From “Distance” to “Friction”: Substituting Metaphors and Redirecting Intercultural Research For'

Failure → test-suite textcase_LastChar
Passed in:
(string) '07-X
07-X Test'
Expected:
(string) '07-x
07-x Test'

Failure → test-suite textcase_LocaleUnicode
Passed in:
(string) 'IA AND IB EN
IA AND IB EN
IC AND ID TR
BAD LANGUAGE CODE THAT PASSES IN NODE.JS BUT FAILS IN SOME BROWSERS'
Expected:
(string) 'IA AND IB EN
IA AND IB EN
İC AND ID TR
BAD LANGUAGE CODE THAT PASSES IN NODE.JS BUT FAILS IN SOME BROWSERS'

Failure → test-suite textcase_NonEnglishChars
Passed in:
(string) 'Saline Solution of Β-Carotine
Saline Solution of Beta-Carotine'
Expected:
(string) 'Saline Solution of β-Carotine
Saline Solution of Beta-Carotine'

Failure → test-suite textcase_SentenceCapitalization
Passed in:
(string) 'This is a Pen that is a Smith Pencil'
Expected:
(string) 'This is a pen that is a Smith pencil'

Failure → test-suite textcase_SkipNameParticlesInTitleCase
Passed in:
(string) 'John von Doe: An About up Life; John van Doe? A Life; John d’Doe! A Life; John de Doe a Life'
Expected:
(string) 'John von Doe: An about up Life; John van Doe? A Life; John d’Doe! A Life; John de Doe a Life'

Failure → test-suite textcase_TitleCaseWithHyphens
Passed in:
(string) 'Out-Of-Fashion Initiatives: A Second Story'
Expected:
(string) 'Out-of-Fashion Initiatives: A Second Story'

Failure → test-suite variables_ContainerTitleShort
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">
    <div class="csl-left-margin">1. </div><div class="csl-right-inline">Campbell DT, Fiske DW. Main title. In: Container: a title. (Series: a title). </div>
  </div>
  <div class="csl-entry">
    <div class="csl-left-margin">2. </div><div class="csl-right-inline">Campbell DT, Fiske DW. Main title. Container. </div>
  </div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">
    <div class="csl-left-margin">1. </div><div class="csl-right-inline">Campbell DT, Fiske DW. Main title. In: Container: a title. (Series: a title).</div>
   </div>
  <div class="csl-entry">
    <div class="csl-left-margin">2. </div><div class="csl-right-inline">Campbell DT, Fiske DW. Main title. Container.</div>
   </div>
</div>'

Failure → test-suite variables_ContainerTitleShort2
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">
    <div class="csl-left-margin">1. </div><div class="csl-right-inline">Campbell DT, Fiske DW. CONVERGENT AND DISCRIMINANT VALIDATION BY THE MULTITRAIT-MULTIMETHOD MATRIX. p. 25. </div>
  </div>
  <div class="csl-entry">
    <div class="csl-left-margin">2. </div><div class="csl-right-inline">Campbell DT, Fiske DW. CONVERGENT AND DISCRIMINANT VALIDATION BY THE MULTITRAIT-MULTIMETHOD MATRIX. :25. </div>
  </div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">
    <div class="csl-left-margin">1. </div><div class="csl-right-inline">Campbell DT, Fiske DW. CONVERGENT AND DISCRIMINANT VALIDATION BY THE MULTITRAIT-MULTIMETHOD MATRIX. In: Container: a title. p. 25. (Series: a title).</div>
   </div>
  <div class="csl-entry">
    <div class="csl-left-margin">2. </div><div class="csl-right-inline">Campbell DT, Fiske DW. CONVERGENT AND DISCRIMINANT VALIDATION BY THE MULTITRAIT-MULTIMETHOD MATRIX. Container. :25.</div>
   </div>
</div>'

Failure → test-suite variables_TitleShortOnShortTitleNoTitleCondition
Passed in:
(string) 'My Long Title 1 has title-short
My Long Title 2 does not have title-short
[CSL STYLE ERROR: reference with no printed form.]'
Expected:
(string) 'My Long Title 1 has title-short
My Long Title 2 does not have title-short
does not have title-short'

Error → test-suite magic_CitationLabelInBibliography
./citeproc/citeproc-richtext.lua:429: assertion failed!

category       success failure   error pending
affix                7       1       0       1
bugreports          38      36       0       8
collapse             4      16       0       1
condition           17       0       0       0
date                95       6       0       0
decorations          7       0       0       0
disambiguate        19      48       0       4
display              4       1       0       0
etal                 4       0       0       0
flipflop             8      11       0       0
form                 3       0       0       0
fullstyles           3       2       0       0
group                4       2       0       1
integration          2       0       0      12
label                9      10       0       0
locale              23       0       0       0
locator              0       6       0       0
magic               24      14       1       1
name                88      22       0       1
nameattr            97       0       0       0
nameorder            6       0       0       0
namespaces           1       0       0       0
number              17       3       0       0
page                 9       0       0       0
plural               7       0       0       0
position             8       1       0       7
punctuation         14       1       0       1
quotes               2       2       0       0
simplespace          1       0       0       0
sort                42      16       0       8
sortseparator        1       0       0       0
substitute           5       2       0       0
testers              0       1       0       1
textcase            21       8       0       0
unicode              1       0       0       0
variables            2       3       0       0
virtual              1       0       0       0
-------------- ------- ------- ------- -------
(all)              594     212       1      46
